name: Nightly Analysis

on:
  schedule:
    - cron: '0 2 * * *'  # Every day at 2 AM UTC
  workflow_dispatch:

jobs:
  analyze:
    # FIXME: Temporarily disabled - upstream workflow passes 'provider' and 'model'
    # inputs to claude-schedule.yml which doesn't accept them.
    # See: https://github.com/duyet/github-actions (claude-nightly-analysis.yml:88-89)
    if: false
    uses: duyet/github-actions/.github/workflows/claude-nightly-analysis.yml@main
    permissions:
      contents: write
      pull-requests: write
      issues: write
      id-token: write
      actions: read
    secrets:
      api_key: ${{ secrets.OPENROUTER_API_KEY }}
      bot_github_token: ${{ secrets.DUYETBOT_GITHUB_TOKEN }}

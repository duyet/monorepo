---
template: post
title: 'Redis - Các lệnh cơ bản và quản lý dữ liệu trong Redis'
date: "2015-06-30"
author: Van-Duyet Le
tags:
- Database
- Redis
- RAM
modified_time: '2015-06-30T23:55:23.871+07:00'
thumbnail: https://4.bp.blogspot.com/-46qpHiPhs-A/VZLJ0KouhbI/AAAAAAAAClQ/j--kh2vlDsw/s1600/c99f92417a7cc17e22ea294c26674e6536d9497a.png
blogger_id: tag:blogger.com,1999:blog-3454518094181460838.post-3018917716490354671
blogger_orig_url: https://blog.duyet.net/2015/06/cac-lenh-co-ban-va-quan-ly-du-lieu-trong-redis.html
slug: /2015/06/cac-lenh-co-ban-va-quan-ly-du-lieu-trong-redis.html
category: News
description: ''

---

Redis không đơn giản là lưu trữ key/value thông thường (cả key value đều là string), thực sự nó là một máy chủ dữ liệu có cấu trúc (data structures server) hỗ trợ nhiều loại dữ liệu có cấu trúc phức tạp như danh sách (List), tập hợp (Set), tập hợp được sắp xếp (Sorted Set), bảng băm (Hash) ...<br /><br />Mình đã từng có 1 bài viết giới thiệu về Redis Database (<a href="https://blog.duyet.net/2015/04/database-tim-hieu-ve-csdl-redis.html#.VZLG23W1Gko" target="_blank">Database - Tìm hiểu về CSDL Redis</a>), hôm nay mình sẽ giới thiệu qua một số lệnh cơ bản của Redis và cách quản lý dữ liệu trên CSDL cực nhanh này.<br /><a name='more'></a><br /><div class="separator" style="clear: both; text-align: center;"><img border="0" height="213" src="https://4.bp.blogspot.com/-46qpHiPhs-A/VZLJ0KouhbI/AAAAAAAAClQ/j--kh2vlDsw/s640/c99f92417a7cc17e22ea294c26674e6536d9497a.png" width="640" /></div><br /><h2>Redis Key</h2><div>Redis key là các lệnh sử dụng để quản lý các key trong redis. Với cú pháp như sau:</div><div><pre class="prettyprint"><code>COMMAND KEY_NAME [VALUE]</code></pre></div><br />Các lệnh thường dùng<br /><table class="table table-bordered table-nonfluid"><thead><tr><th>STT</th><th>Command</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td>1</td><td>DEL key</td><td>Xóa key nếu nó tồn tại</td></tr><tr><td>2</td><td>EXISTS key</td><td>Kiểm tra key có tồn tại không</td></tr><tr><td>3</td><td>EXPIRE key n</td><td>Đặt expire time cho key sau n giây</td></tr><tr><td>4</td><td>KEYS pattern</td><td>Tìm các key theo pattern</td></tr><tr><td>5</td><td>PERSIST key</td><td>Xóa expire time của key</td></tr><tr><td>6</td><td>TTL key</td><td>Lấy thời gian sống của key (giây)</td></tr><tr><td>7</td><td>RENAME key newkey</td><td>Đổi tên key sang newkey, nếu newkey đã tồn tại giá trị của nó sẽ bị ghi đè bởi giá trị của key</td></tr><tr><td>8</td><td>RENAMENX key newkey</td><td>Đổi tên key sang newkey nếu newkey chưa tồn tại</td></tr><tr><td>9</td><td>TYPE key</td><td>Lấy loại dữ liệu được lưu trữ bởi key</td></tr></tbody></table><br /><div><br /></div><div><h2>Redis String</h2></div><div>Redis string là lệnh sử dụng để quản lý các key/value trong đó value có giá trị string trong redis<br /><br />Ví dụ<br /><pre class="prettyprint"><code>redis 127.0.0.1:6379&gt; SET test redis<br />OK<br />redis 127.0.0.1:6379&gt; GET test<br />"redis"</code></pre>Các lệnh thường dùng<br /><br /><br /><table class="table table-bordered table-nonfluid"><thead><tr><th>STT</th><th>Command</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td>1</td><td>SET key value</td><td>Đặt giá trị value cho key</td></tr><tr><td>2</td><td>GET key</td><td>Lấy giá trị lưu trữ bởi key</td></tr><tr><td>3</td><td>GETRANGE key start end</td><td>Lấy giá trị lưu trữ bởi key từ (start) đến (end)</td></tr><tr><td>4</td><td>GETSET key value</td><td>Lấy ra giá trị cũ và đặt giá trị mới cho key</td></tr><tr><td>5</td><td>MGET key1 key2 ..</td><td>Lấy giá trị của nhiều key theo thứ tự</td></tr><tr><td>6</td><td>SETEX key seconds value</td><td>Đặt giá trị và thời gian expire cho key</td></tr><tr><td>7</td><td>SETNX key value</td><td>Đặt giá trị cho key nếu key chưa tồn tại</td></tr><tr><td>8</td><td>RENAMENX key newkey</td><td>Đổi tên key sang newkey nếu newkey chưa tồn tại</td></tr><tr><td>9</td><td>STRLEN key</td><td>Lấy độ dài giá trị lưu trữ bởi key</td></tr><tr><td>9</td><td>APPEND key value</td><td>Thêm vào sau giá trị lưu trữ bởi key là value</td></tr><tr><td>10</td><td>INCR key</td><td>Tăng giá trị lưu trữ của key (số nguyên) 1 đơn vị</td></tr><tr><td>11</td><td>INCRBY key n</td><td>Tăng giá trị lưu trữ của key (số nguyên) n đơn vị</td></tr><tr><td>12</td><td>DECR key</td><td>Giảm giá trị lưu trữ của key (số nguyên) 1 đơn vị</td></tr><tr><td>11</td><td>DECRBY key n</td><td>Giảm giá trị lưu trữ của key (số nguyên) n đơn vị</td></tr></tbody></table><br /><h2>Redis Hash</h2>Redis hash là lệnh sử dụng để quản lý các key/value trong đó value có giá trị là hash. Hash là kiểu dữ liệu khá phổ biến, thường được dùng để lưu trữ các object.<br /><br /><pre class="prettyprint"><code>HSET user:1 name "name 1"<br />(integer) 1<br />HGET user:1 name<br />"name 1"</code></pre><br />Các lệnh thường dùng <br /><table class="table table-bordered table-nonfluid"><thead><tr><th>STT</th><th>Command</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td>1</td><td>HSET key field value</td><td>Đặt giá trị cho field là value trong hash</td></tr><tr><td>2</td><td>HGET key field</td><td>Lấy giá trị của field trong hash</td></tr><tr><td>3</td><td>HDEL key field1 field2 ...</td><td>xóa field1, field2 ... trong hash</td></tr><tr><td>4</td><td>HEXISTS key field</td><td>Kiểm tra file có tồn tại trong hash không</td></tr><tr><td>5</td><td>HGETALL key</td><td>Lấy tất cả các field và value của nó trong hash</td></tr><tr><td>6</td><td>HINCRBY key field n</td><td>Tăng giá trị của field (số nguyên) lên n đơn vị</td></tr><tr><td>7</td><td>HDECRBY key field n</td><td>Giảm giá trị của field (số nguyên) lên n đơn vị</td></tr><tr><td>8</td><td>HINCRBYFLOAT key field f</td><td>Tăng giá trị của field (số thực) lên f</td></tr><tr><td>9</td><td>HDECRBYFLOAT key field n</td><td>Giảm giá trị của field (số thực) f</td></tr><tr><td>10</td><td>HKEYS key</td><td>Lấy tất cả các field của hash</td></tr><tr><td>11</td><td>HVALS key</td><td>Lấy tất cả các value của hash</td></tr><tr><td>12</td><td>HLEN key</td><td>Lấy số lượng field của hash</td></tr><tr><td>13</td><td>HMSET key field1 value1 field2 value2 ...</td><td>Đặt giá trị cho các field1 giá trị value1 field2 giá trị value2 ...</td></tr><tr><td>14</td><td>HMGET key field1 field2 ...</td><td>Lấy giá trị của các field1 field2 ...</td></tr></tbody></table><br /></div>
